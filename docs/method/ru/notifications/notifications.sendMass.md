notifications.sendMass

$description
Отправляет сообщение с оповещением всем пользователям приложения, чьи профили соответствуют указанным критериям

$params#text
Сообщение, которое будет отправлено как оповещение пользователю. Максимальная длина текста составляет 200 символов.

$params#expires
Дата и время истечения срока действия этого оповещения. 
Формат: гггг.ММ.дд ЧЧ:мм

**Примечание**: дата истечения срока действия должна составлять менее 14 дней от текущей даты. Используемый часовой пояс: MSK(UTC+03:00)

$params#status
Одно из значений:

* PUBLIC или P - оповещение показывается пользователям приложения (используется как значение по умолчанию, если параметр опущен)
* ADMINS_ONLY или A - оповещение показывается только разработчикам приложения

$params#gender
Одно из значений:

* MALE или M
* FEMALE или F

$params#age_range
Диапазон возраста (включительно). 
Формат: <минимальный возраст>-<максимальный возраст>

$params#birthday_range
Диапазон дней рождения (включительно). 
Формат: ММ.дд-ММ.дд

$params#country
Код страны в профиле пользователя.

$params#city
Код города, возвращаемый в параметре «location.city» метода users.getInfo.

$params#first_access_range
Диапазон дат первого запуска приложения пользователем (включительно). 
Формат: гггг.ММ.дд-гггг.ММ.дд

$params#last_access_range
Диапазон дат последнего запуска приложения пользователем (включительно). 
Формат: гггг.ММ.дд-гггг.ММ.дд

$params#has_email
Если параметр задан, ограничивает пользователей следующим образом:

* true - пользователи, указавшие адрес эл. почты в своем профиле
* false - пользователи, не указавшие адрес эл. почты в своем профиле

$params#mask
Маска размерностью 32 бита. Подается как десятичное число. 
Нотификация дойдет в том случае, если результат операции побитового AND сравнения с маской пользователя не равно 0. (user.mask & notification.mask > 0)

$params#maskExactMatch
Использовать строгое совпадение битов в mask и маски пользователя. (user.mask == notification.mask)

$params#mark
Метка, которая будет передана приложению в параметре custom_args при переходе по нотификации

$additional
{% format_code Перед работой с нотификациями рекомендуется ознакомиться с [ограничениями](/dev/limits) %}

Если указывается несколько критериев фильтрации, они комбинируются с использованием логического AND. Например, если отправлено gender=MALE&age_range=20-25, то оповещение будет показано пользователям, которые соответствуют обоим условиям: пользователям мужского пола в возрасте 20 - 25 лет. Значения начала и конца диапазона являются включительными, поэтому оповещение из предыдущего примера будет показано пользователям мужского пола, возраст которых равен любому из следующих значений: 20, 21, 22, 23, 24, 25.
В статусе PUBLIC одновременно могут находится не более 5 массовых оповещений от приложения. При превышении данного лимита наиболее старые рассылки автоматически скрываются. Разрешается выполнять не более 30 рассылок в день.

Текст оповещения может содержать следующие заполнители, которые будут заменены данными пользователя, перед тем как оповещение будет показано. Поддерживаются следующие заполнители:

|	Заполнитель		|				Описание						|
|-------------------|-----------------------------------------------|
|${user.first-name}	|	Имя пользователя. Пример: Ivan				|
|${user.last-name}	|Фамилия пользователя. Пример: Petrov			|
|${user.full-name}	|Полное имя пользователя. Пример: Ivan Petrov	|
|	${user.age}		|	Возраст пользователя. Пример: 25
|/ban
